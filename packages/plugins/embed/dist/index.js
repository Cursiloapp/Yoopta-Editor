import{generateId as e,buildBlockData as t,Blocks as o,Elements as i,useYooptaEditor as n,UI as r,useBlockData as s,useYooptaPluginOptions as a,useYooptaReadOnly as l,useBlockSelected as d,YooptaPlugin as c}from"@yoopta/editor";import{jsxs as h,jsx as p,Fragment as u}from"react/jsx-runtime";import*as m from"react";import{useState as f,useEffect as b,useRef as g,useLayoutEffect as y,forwardRef as w,createElement as x,useMemo as v}from"react";import*as z from"react-dom";import{flushSync as _}from"react-dom";function C(e){return e.includes("youtube.com")||e.includes("youtu.be")?"youtube":e.includes("vimeo.com")?"vimeo":e.includes("dailymotion.com")||e.includes("dai.ly")?"dailymotion":e.includes("loom.com")?"loom":e.includes("wistia.com")||e.includes("wistia.net")?"wistia":e.includes("twitter")||e.includes("https://x.com")?"twitter":e.includes("figma")?"figma":e.includes("instagram.com")?"instagram":null}const R={youtube:e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},vimeo:e=>new URL(e).pathname.split("/")[1],dailymotion:e=>{const t=e.match(/^.+dailymotion.com\/(embed|hub)\/([^_]+)[^#]*(#embed=([^_&]+))?/);return null!==t?void 0!==t[4]?t[4]:t[2]:null},wistia:e=>{try{const t=e.match(/(?:https?:\/\/)?(?:fast\.)?wistia\.(?:com|net)\/embed\/iframe\/([a-zA-Z0-9]+)/);if(t)return t[1];const o=e.match(/(?:https?:\/\/)?(?:www\.)?wistia\.com\/medias\/([a-zA-Z0-9]+)/);return o?o[1]:null}catch(e){return console.error("Error extracting Wistia ID:",e),null}},loom:e=>{try{const t=e.match(/(?:https?:\/\/)?(?:www\.)?loom\.com\/share\/([a-zA-Z0-9]+)/);return t?t[1]:null}catch(e){return console.error("Error extracting Loom ID:",e),null}},twitter:function(e){const t=e.match(/\/status\/(\d+)/);return t?t[1]:null},figma:function(e){const t=new URL(e).searchParams,o=t.get("node-id");return t.get("node-id")?o:"unknown"},instagram:function(e){const t=e.match(/(?:https?:\/\/)?(?:www\.)?instagram\.com(?:\/p\/|\/reel\/|\/tv\/)([^\/?#&]+).*$/);return t?t[1]:null}},S={buildEmbedElements:(t,o={})=>{var i,n;const r=Object.assign(Object.assign({},o.props),{nodeType:"void"});if(null===(i=r.provider)||void 0===i?void 0:i.url){const e=r.provider.url,t=C(e),o=t?null===(n=R[t])||void 0===n?void 0:n.call(R,e):null,i={type:t,id:o,url:e};t&&o||(i.id=e),r.provider=i}return{id:e(),type:"embed",children:[{text:""}],props:r}},insertEmbed:(e,i={})=>{const{at:n,focus:r,props:s}=i,a=S.buildEmbedElements(e,{props:s}),l=t({value:[a],type:"Embed",meta:{align:"center",depth:0}});o.insertBlock(e,l.type,{focus:r,at:n,blockData:l})},deleteEmbed:(e,t)=>{o.deleteBlock(e,{blockId:t})},updateEmbed:(e,t,o)=>{i.updateElement(e,t,{props:o})}};function O(e,{threshold:t=0,root:o=null,rootMargin:i="0%",freezeOnceVisible:n=!1}={}){const[r,s]=f({}),a=r.isIntersecting&&n,l=([e])=>s(e);return b((()=>{const n=null==e?void 0:e.current;if(!window.IntersectionObserver||a||!n)return;const r=new IntersectionObserver(l,{threshold:t,root:o,rootMargin:i});return r.observe(n),()=>r.disconnect()}),[e,t,o,i,a]),r}"function"==typeof SuppressedError&&SuppressedError;const k={vimeo:function({provider:e,width:t,height:o,attributes:i,children:n}){const r=g(null),[s,a]=f(null),[l,d]=f(!1),{isIntersecting:c}=O(r,{freezeOnceVisible:!0,rootMargin:"50%"});return b((()=>{fetch(`https://vimeo.com/api/v2/embed/${e.id}.json`).then((e=>e.json())).then((e=>a(e[0].thumbnail_medium))).catch((()=>a(null)))}),[e.id]),h("div",Object.assign({},i,{ref:e=>{r.current=e,i.ref(e)},className:"yoo-embed-relative"},{children:[p("img",{src:s||"",alt:"vimeo_embed_preview",width:"100%",height:"100%",className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0 yoo-embed-w-full yoo-embed-h-full",style:{opacity:c&&l?0:1,zIndex:c&&l?-1:0}}),c&&p("iframe",{title:"Embed Player",src:`https://player.vimeo.com/embed/${e.id}?badge=0&byline=0&portrait=0&title=0`,frameBorder:0,allowFullScreen:!0,onLoad:()=>d(!0),className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0",width:t,height:o}),n]}))},youtube:function({provider:e,width:t,height:o,attributes:i,children:n}){const r=g(null),[s,a]=f(!1),{isIntersecting:l}=O(r,{freezeOnceVisible:!0,rootMargin:"50%"});return h("div",Object.assign({},i,{ref:e=>{r.current=e,i.ref(e)},className:"yoo-embed-relative"},{children:[p("img",{src:`https://i.ytimg.com/vi/${e.id}/default.jpg`,alt:"youtube_embed_preview",width:"100%",height:"100%",className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0 yoo-embed-w-full yoo-embed-h-full",style:{opacity:l&&s?0:1,zIndex:l&&s?-1:0}}),l&&p("iframe",{title:"Embed Player",src:`https://www.youtube.com/embed/${e.id}`,frameBorder:0,onLoad:()=>a(!0),allowFullScreen:!0,className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0",width:t,height:o}),n]}))},dailymotion:function({provider:e,width:t,height:o,attributes:i,children:n}){const r=g(null),[s,a]=f(null),[l,d]=f(!1),{isIntersecting:c}=O(r,{freezeOnceVisible:!0,rootMargin:"50%"});return b((()=>{var t;fetch((t=e.id,`https://api.dailymotion.com/embed/${t}?fields=thumbnail_url`)).then((e=>e.json())).then((e=>a(e.thumbnail_url))).catch((()=>a(null)))}),[e.id]),h("div",Object.assign({},n,{ref:e=>{r.current=e,i.ref(e)},className:"yoo-embed-relative"},{children:[p("img",{src:s||"",alt:"daylimotion_embed_preview",width:"100%",height:"100%",className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0 yoo-embed-w-full yoo-embed-h-full",style:{opacity:c&&l?0:1,zIndex:c&&l?-1:0}}),c&&p("iframe",{title:"Dailymotion Embed Player",frameBorder:0,onLoad:()=>d(!0),src:`https://www.dailymotion.com/embed/embed/${e.id}`,allowFullScreen:!0,className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0",width:t,height:o}),n]}))},figma:({provider:e,width:t,height:o,attributes:i,children:n})=>{const r=g(null),{isIntersecting:s}=O(r,{freezeOnceVisible:!0,rootMargin:"50%"});return h("div",Object.assign({className:"yoo-embed-relative"},i,{ref:e=>{r.current=e,i.ref(e)}},{children:[s&&p("iframe",{src:`https://www.figma.com/embed?embed_host=share&url=${encodeURIComponent((null==e?void 0:e.url)||"")}`,frameBorder:0,allowFullScreen:!0,className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0",width:t,height:o}),n]}))},twitter:function({provider:e,blockId:t,attributes:o,children:r,height:s,width:a}){const l=g(null),d=n(),{isIntersecting:c}=O(l,{freezeOnceVisible:!0,rootMargin:"50%"}),u=`${t}-${e.id}`;return b((()=>{if(!c)return;const o=document.createElement("script");o.src="https://platform.twitter.com/widgets.js",o.async=!0,document.body.appendChild(o);const n=()=>{window.twttr&&window.twttr.widgets.createTweet(e.id,document.getElementById(u),{align:"center",conversation:"none",dnt:!0,theme:"light"}).then((e=>{e&&i.updateElement(d,t,{type:"embed",props:{sizes:{height:e.offsetHeight+16,width:e.offsetWidth}}})}))};return window.twttr?n():o.onload=n,()=>{document.body.removeChild(o)}}),[e.id,c,t,d]),h("div",Object.assign({className:"yoo-embed-w-full"},o,{children:[p("div",{id:u,ref:l}),r]}))},instagram:({provider:e,width:t,height:o,attributes:i,children:n})=>{const r=`https://www.instagram.com/p/${e.id}/embed`,s=g(null),{isIntersecting:a}=O(s,{freezeOnceVisible:!0,rootMargin:"50%"});return p("div",Object.assign({className:"yoo-embed-w-full yoo-embed-h-full"},i,{children:h("div",Object.assign({ref:s},{children:[a&&p("iframe",{src:r,width:"auto"===t?"100%":t,height:"auto"===o?"100%":o,frameBorder:"0",scrolling:"no",allowTransparency:!0,allowFullScreen:!0,className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0"}),n]}))}))},loom:function({provider:e,attributes:t,children:o,width:i,height:n}){const r=g(null),[s,a]=f(!1),[l,d]=f(0),{isIntersecting:c}=O(r,{freezeOnceVisible:!0,rootMargin:"50%"});return b((()=>{c&&d((e=>e+1))}),[c]),h("div",Object.assign({},t,{ref:e=>{r.current=e,t.ref(e)},className:"yoo-video-relative",style:{width:i,height:n}},{children:[p("div",Object.assign({style:{position:"relative",width:"100%",height:"100%"}},{children:c&&p("iframe",{title:"Loom Video Player",src:`https://www.loom.com/embed/${e.id}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,frameBorder:"0",allowFullScreen:!0,onLoad:()=>a(!0),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none",borderRadius:"4px"}},l)})),o]}))},wistia:function({provider:e,attributes:t,children:o,width:i,height:n}){const r=g(null),[s,a]=f(!1),{isIntersecting:l}=O(r,{freezeOnceVisible:!0,rootMargin:"50%"});return h("div",Object.assign({},t,{ref:e=>{r.current=e,t.ref(e)},className:"yoo-video-relative",style:{width:i,height:n}},{children:[p("div",Object.assign({style:{position:"relative",width:"100%",height:"100%"}},{children:l&&p("iframe",{src:`https://fast.wistia.net/embed/iframe/${e.id}?videoFoam=false`,title:"Wistia Video Player",frameBorder:"0",allowFullScreen:!0,onLoad:()=>a(!0),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none",borderRadius:"4px"}})})),o]}))}},E=({width:e,height:t,provider:o,blockId:i,attributes:n,children:r})=>{if(!o)return null;if(o&&o.id&&o.type&&k[o.type]){const s=k[o.type];return p(s,Object.assign({provider:o,width:e,height:t,blockId:i,attributes:n},{children:r}))}return h("div",Object.assign({className:"yoo-embed-w-full"},n,{children:[p("iframe",{src:o.url,width:"100%",height:"100%",frameBorder:0,allowFullScreen:!0,className:"yoo-embed-absolute yoo-embed-top-0 yoo-embed-left-0"}),r]}))};var M,N=(M=function(e,t){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},M(e,t)},function(e,t){function o(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),j=function(){return j=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},j.apply(this,arguments)},L={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},W={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},H={width:"20px",height:"20px",position:"absolute"},B={top:j(j({},L),{top:"-5px"}),right:j(j({},W),{left:void 0,right:"-5px"}),bottom:j(j({},L),{top:void 0,bottom:"-5px"}),left:j(j({},W),{left:"-5px"}),topRight:j(j({},H),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:j(j({},H),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:j(j({},H),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:j(j({},H),{left:"-10px",top:"-10px",cursor:"nw-resize"})},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return N(t,e),t.prototype.render=function(){return m.createElement("div",{className:this.props.className||"",style:j(j({position:"absolute",userSelect:"none"},B[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(m.PureComponent),T=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),A=function(){return A=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},A.apply(this,arguments)},F={width:"auto",height:"auto"},I=function(e,t,o){return Math.max(Math.min(e,o),t)},D=function(e,t){return Math.round(e/t)*t},$=function(e,t){return new RegExp(e,"i").test(t)},V=function(e){return Boolean(e.touches&&e.touches.length)},Z=function(e,t,o){void 0===o&&(o=0);var i=t.reduce((function(o,i,n){return Math.abs(i-e)<Math.abs(t[o]-e)?n:o}),0),n=Math.abs(t[i]-e);return 0===o||n<o?t[i]:e},U=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},X=function(e,t,o,i){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return o*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return i*(Number(e.replace("vh",""))/100)}return e},Y=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],G="__resizable_base__",q=function(e){function t(t){var o=e.call(this,t)||this;return o.ratio=1,o.resizable=null,o.parentLeft=0,o.parentTop=0,o.resizableLeft=0,o.resizableRight=0,o.resizableTop=0,o.resizableBottom=0,o.targetLeft=0,o.targetTop=0,o.appendBase=function(){if(!o.resizable||!o.window)return null;var e=o.parentNode;if(!e)return null;var t=o.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(G):t.className+=G,e.appendChild(t),t},o.removeBase=function(e){var t=o.parentNode;t&&t.removeChild(e)},o.ref=function(e){e&&(o.resizable=e)},o.state={isResizing:!1,width:void 0===(o.propsSize&&o.propsSize.width)?"auto":o.propsSize&&o.propsSize.width,height:void 0===(o.propsSize&&o.propsSize.height)?"auto":o.propsSize&&o.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},o.onResizeStart=o.onResizeStart.bind(o),o.onMouseMove=o.onMouseMove.bind(o),o.onMouseUp=o.onMouseUp.bind(o),o}return T(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,i=this.resizable.offsetHeight,n=this.resizable.style.position;"relative"!==n&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:o,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:i,this.resizable.style.position=n}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,o=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&e.propsSize[t].toString().endsWith("%")){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var o=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/o[t]*100+"%"}return U(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?U(t.width):o("width"),height:t&&void 0!==t.height&&!this.state.isResizing?U(t.height):o("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,o=this.parentNode.style.flexWrap;"wrap"!==o&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var i={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=o),this.removeBase(e),i},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var o=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==o&&"auto"!==o?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var o,i,n=this.props.boundsByDirection,r=this.state.direction,s=n&&$("left",r),a=n&&$("top",r);if("parent"===this.props.bounds){var l=this.parentNode;l&&(o=s?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),i=a?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(o=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,i=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(o=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return o&&Number.isFinite(o)&&(e=e&&e<o?e:o),i&&Number.isFinite(i)&&(t=t&&t<i?t:i),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var o=this.props.scale||1,i=this.props.resizeRatio||1,n=this.state,r=n.direction,s=n.original,a=this.props,l=a.lockAspectRatio,d=a.lockAspectRatioExtraHeight,c=a.lockAspectRatioExtraWidth,h=s.width,p=s.height,u=d||0,m=c||0;return $("right",r)&&(h=s.width+(e-s.x)*i/o,l&&(p=(h-m)/this.ratio+u)),$("left",r)&&(h=s.width-(e-s.x)*i/o,l&&(p=(h-m)/this.ratio+u)),$("bottom",r)&&(p=s.height+(t-s.y)*i/o,l&&(h=(p-u)*this.ratio+m)),$("top",r)&&(p=s.height-(t-s.y)*i/o,l&&(h=(p-u)*this.ratio+m)),{newWidth:h,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,o,i){var n=this.props,r=n.lockAspectRatio,s=n.lockAspectRatioExtraHeight,a=n.lockAspectRatioExtraWidth,l=void 0===i.width?10:i.width,d=void 0===o.width||o.width<0?e:o.width,c=void 0===i.height?10:i.height,h=void 0===o.height||o.height<0?t:o.height,p=s||0,u=a||0;if(r){var m=(c-p)*this.ratio+u,f=(h-p)*this.ratio+u,b=(l-u)/this.ratio+p,g=(d-u)/this.ratio+p,y=Math.max(l,m),w=Math.min(d,f),x=Math.max(c,b),v=Math.min(h,g);e=I(e,y,w),t=I(t,x,v)}else e=I(e,l,d),t=I(t,c,h);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left,this.targetTop=o.top}if(this.resizable){var i=this.resizable.getBoundingClientRect(),n=i.left,r=i.top,s=i.right,a=i.bottom;this.resizableLeft=n,this.resizableRight=s,this.resizableTop=r,this.resizableBottom=a}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var o,i=0,n=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(i=e.nativeEvent.clientX,n=e.nativeEvent.clientY):e.nativeEvent&&V(e.nativeEvent)&&(i=e.nativeEvent.touches[0].clientX,n=e.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var r=this.window.getComputedStyle(this.resizable);if("auto"!==r.flexBasis){var s=this.parentNode;if(s){var a=this.window.getComputedStyle(s).flexDirection;this.flexDir=a.startsWith("row")?"row":"column",o=r.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:i,y:n,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:A(A({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:o};this.setState(l)}},t.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&V(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var o=this.props,i=o.maxWidth,n=o.maxHeight,r=o.minWidth,s=o.minHeight,a=V(e)?e.touches[0].clientX:e.clientX,l=V(e)?e.touches[0].clientY:e.clientY,d=this.state,c=d.direction,h=d.original,p=d.width,u=d.height,m=this.getParentSize(),f=function(e,t,o,i,n,r,s){return i=X(i,e.width,t,o),n=X(n,e.height,t,o),r=X(r,e.width,t,o),s=X(s,e.height,t,o),{maxWidth:void 0===i?void 0:Number(i),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===s?void 0:Number(s)}}(m,this.window.innerWidth,this.window.innerHeight,i,n,r,s);i=f.maxWidth,n=f.maxHeight,r=f.minWidth,s=f.minHeight;var b=this.calculateNewSizeFromDirection(a,l),g=b.newHeight,y=b.newWidth,w=this.calculateNewMaxFromBoundary(i,n);this.props.snap&&this.props.snap.x&&(y=Z(y,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(g=Z(g,this.props.snap.y,this.props.snapGap));var x=this.calculateNewSizeFromAspectRatio(y,g,{width:w.maxWidth,height:w.maxHeight},{width:r,height:s});if(y=x.newWidth,g=x.newHeight,this.props.grid){var v=D(y,this.props.grid[0]),z=D(g,this.props.grid[1]),C=this.props.snapGap||0;y=0===C||Math.abs(v-y)<=C?v:y,g=0===C||Math.abs(z-g)<=C?z:g}var R={width:y-h.width,height:g-h.height};if(p&&"string"==typeof p)if(p.endsWith("%"))y=y/m.width*100+"%";else if(p.endsWith("vw")){y=y/this.window.innerWidth*100+"vw"}else if(p.endsWith("vh")){y=y/this.window.innerHeight*100+"vh"}if(u&&"string"==typeof u)if(u.endsWith("%"))g=g/m.height*100+"%";else if(u.endsWith("vw")){g=g/this.window.innerWidth*100+"vw"}else if(u.endsWith("vh")){g=g/this.window.innerHeight*100+"vh"}var S={width:this.createSizeForCssProperty(y,"width"),height:this.createSizeForCssProperty(g,"height")};"row"===this.flexDir?S.flexBasis=S.width:"column"===this.flexDir&&(S.flexBasis=S.height),_((function(){t.setState(S)})),this.props.onResize&&this.props.onResize(e,c,this.resizable,R)}},t.prototype.onMouseUp=function(e){var t=this.state,o=t.isResizing,i=t.direction,n=t.original;if(o&&this.resizable){var r={width:this.size.width-n.width,height:this.size.height-n.height};this.props.onResizeStop&&this.props.onResizeStop(e,i,this.resizable,r),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:A(A({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,o=t.enable,i=t.handleStyles,n=t.handleClasses,r=t.handleWrapperStyle,s=t.handleWrapperClass,a=t.handleComponent;if(!o)return null;var l=Object.keys(o).map((function(t){return!1!==o[t]?m.createElement(P,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:i&&i[t],className:n&&n[t]},a&&a[t]?a[t]:null):null}));return m.createElement("div",{className:s,style:r},l)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,o){return-1!==Y.indexOf(o)||(t[o]=e.props[o]),t}),{}),o=A(A(A({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return m.createElement(i,A({ref:this.ref,style:o,className:this.props.className},t),this.state.isResizing&&m.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(m.PureComponent);function J(e){return ee(e)?(e.nodeName||"").toLowerCase():"#document"}function K(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Q(e){var t;return null==(t=(ee(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ee(e){return e instanceof Node||e instanceof K(e).Node}function te(e){return e instanceof Element||e instanceof K(e).Element}function oe(e){return e instanceof HTMLElement||e instanceof K(e).HTMLElement}function ie(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof K(e).ShadowRoot)}function ne(e){const{overflow:t,overflowX:o,overflowY:i,display:n}=de(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+o)&&!["inline","contents"].includes(n)}function re(e){return["table","td","th"].includes(J(e))}function se(e){const t=ae(),o=de(e);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!t&&!!o.backdropFilter&&"none"!==o.backdropFilter||!t&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((e=>(o.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(o.contain||"").includes(e)))}function ae(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function le(e){return["html","body","#document"].includes(J(e))}function de(e){return K(e).getComputedStyle(e)}function ce(e){return te(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function he(e){if("html"===J(e))return e;const t=e.assignedSlot||e.parentNode||ie(e)&&e.host||Q(e);return ie(t)?t.host:t}function pe(e){const t=he(e);return le(t)?e.ownerDocument?e.ownerDocument.body:e.body:oe(t)&&ne(t)?t:pe(t)}function ue(e,t,o){var i;void 0===t&&(t=[]),void 0===o&&(o=!0);const n=pe(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),s=K(n);return r?t.concat(s,s.visualViewport||[],ne(n)?n:[],s.frameElement&&o?ue(s.frameElement):[]):t.concat(n,ue(n,[],o))}const me=Math.min,fe=Math.max,be=Math.round,ge=e=>({x:e,y:e}),ye={left:"right",right:"left",bottom:"top",top:"bottom"},we={start:"end",end:"start"};function xe(e,t,o){return fe(e,me(t,o))}function ve(e,t){return"function"==typeof e?e(t):e}function ze(e){return e.split("-")[0]}function _e(e){return e.split("-")[1]}function Ce(e){return"x"===e?"y":"x"}function Re(e){return"y"===e?"height":"width"}function Se(e){return["top","bottom"].includes(ze(e))?"y":"x"}function Oe(e){return Ce(Se(e))}function ke(e){return e.replace(/start|end/g,(e=>we[e]))}function Ee(e){return e.replace(/left|right|bottom|top/g,(e=>ye[e]))}function Me(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ne(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function je(e,t,o){let{reference:i,floating:n}=e;const r=Se(t),s=Oe(t),a=Re(s),l=ze(t),d="y"===r,c=i.x+i.width/2-n.width/2,h=i.y+i.height/2-n.height/2,p=i[a]/2-n[a]/2;let u;switch(l){case"top":u={x:c,y:i.y-n.height};break;case"bottom":u={x:c,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:h};break;case"left":u={x:i.x-n.width,y:h};break;default:u={x:i.x,y:i.y}}switch(_e(t)){case"start":u[s]-=p*(o&&d?-1:1);break;case"end":u[s]+=p*(o&&d?-1:1)}return u}async function Le(e,t){var o;void 0===t&&(t={});const{x:i,y:n,platform:r,rects:s,elements:a,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:p=!1,padding:u=0}=ve(t,e),m=Me(u),f=a[p?"floating"===h?"reference":"floating":h],b=Ne(await r.getClippingRect({element:null==(o=await(null==r.isElement?void 0:r.isElement(f)))||o?f:f.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(a.floating)),boundary:d,rootBoundary:c,strategy:l})),g="floating"===h?{...s.floating,x:i,y:n}:s.reference,y=await(null==r.getOffsetParent?void 0:r.getOffsetParent(a.floating)),w=await(null==r.isElement?void 0:r.isElement(y))&&await(null==r.getScale?void 0:r.getScale(y))||{x:1,y:1},x=Ne(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:y,strategy:l}):g);return{top:(b.top-x.top+m.top)/w.y,bottom:(x.bottom-b.bottom+m.bottom)/w.y,left:(b.left-x.left+m.left)/w.x,right:(x.right-b.right+m.right)/w.x}}function We(e){const t=me(...e.map((e=>e.left))),o=me(...e.map((e=>e.top)));return{x:t,y:o,width:fe(...e.map((e=>e.right)))-t,height:fe(...e.map((e=>e.bottom)))-o}}const He=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var o,i;const{x:n,y:r,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:o,platform:i,elements:n}=e,r=await(null==i.isRTL?void 0:i.isRTL(n.floating)),s=ze(o),a=_e(o),l="y"===Se(o),d=["left","top"].includes(s)?-1:1,c=r&&l?-1:1,h=ve(t,e);let{mainAxis:p,crossAxis:u,alignmentAxis:m}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&"number"==typeof m&&(u="end"===a?-1*m:m),l?{x:u*c,y:p*d}:{x:p*d,y:u*c}}(t,e);return s===(null==(o=a.offset)?void 0:o.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:n+l.x,y:r+l.y,data:{...l,placement:s}}}}};function Be(e){const t=de(e);let o=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const n=oe(e),r=n?e.offsetWidth:o,s=n?e.offsetHeight:i,a=be(o)!==r||be(i)!==s;return a&&(o=r,i=s),{width:o,height:i,$:a}}function Pe(e){return te(e)?e:e.contextElement}function Te(e){const t=Pe(e);if(!oe(t))return ge(1);const o=t.getBoundingClientRect(),{width:i,height:n,$:r}=Be(t);let s=(r?be(o.width):o.width)/i,a=(r?be(o.height):o.height)/n;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Ae=ge(0);function Fe(e){const t=K(e);return ae()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ae}function Ie(e,t,o,i){void 0===t&&(t=!1),void 0===o&&(o=!1);const n=e.getBoundingClientRect(),r=Pe(e);let s=ge(1);t&&(i?te(i)&&(s=Te(i)):s=Te(e));const a=function(e,t,o){return void 0===t&&(t=!1),!(!o||t&&o!==K(e))&&t}(r,o,i)?Fe(r):ge(0);let l=(n.left+a.x)/s.x,d=(n.top+a.y)/s.y,c=n.width/s.x,h=n.height/s.y;if(r){const e=K(r),t=i&&te(i)?K(i):i;let o=e,n=o.frameElement;for(;n&&i&&t!==o;){const e=Te(n),t=n.getBoundingClientRect(),i=de(n),r=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;l*=e.x,d*=e.y,c*=e.x,h*=e.y,l+=r,d+=s,o=K(n),n=o.frameElement}}return Ne({width:c,height:h,x:l,y:d})}const De=[":popover-open",":modal"];function $e(e){return De.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Ve(e){return Ie(Q(e)).left+ce(e).scrollLeft}function Ze(e,t,o){let i;if("viewport"===t)i=function(e,t){const o=K(e),i=Q(e),n=o.visualViewport;let r=i.clientWidth,s=i.clientHeight,a=0,l=0;if(n){r=n.width,s=n.height;const e=ae();(!e||e&&"fixed"===t)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:r,height:s,x:a,y:l}}(e,o);else if("document"===t)i=function(e){const t=Q(e),o=ce(e),i=e.ownerDocument.body,n=fe(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=fe(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let s=-o.scrollLeft+Ve(e);const a=-o.scrollTop;return"rtl"===de(i).direction&&(s+=fe(t.clientWidth,i.clientWidth)-n),{width:n,height:r,x:s,y:a}}(Q(e));else if(te(t))i=function(e,t){const o=Ie(e,!0,"fixed"===t),i=o.top+e.clientTop,n=o.left+e.clientLeft,r=oe(e)?Te(e):ge(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:n*r.x,y:i*r.y}}(t,o);else{const o=Fe(e);i={...t,x:t.x-o.x,y:t.y-o.y}}return Ne(i)}function Ue(e,t){const o=he(e);return!(o===t||!te(o)||le(o))&&("fixed"===de(o).position||Ue(o,t))}function Xe(e,t,o){const i=oe(t),n=Q(t),r="fixed"===o,s=Ie(e,!0,r,t);let a={scrollLeft:0,scrollTop:0};const l=ge(0);if(i||!i&&!r)if(("body"!==J(t)||ne(n))&&(a=ce(t)),i){const e=Ie(t,!0,r,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else n&&(l.x=Ve(n));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Ye(e,t){return oe(e)&&"fixed"!==de(e).position?t?t(e):e.offsetParent:null}function Ge(e,t){const o=K(e);if(!oe(e)||$e(e))return o;let i=Ye(e,t);for(;i&&re(i)&&"static"===de(i).position;)i=Ye(i,t);return i&&("html"===J(i)||"body"===J(i)&&"static"===de(i).position&&!se(i))?o:i||function(e){let t=he(e);for(;oe(t)&&!le(t);){if(se(t))return t;t=he(t)}return null}(e)||o}const qe={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:o,offsetParent:i,strategy:n}=e;const r="fixed"===n,s=Q(i),a=!!t&&$e(t.floating);if(i===s||a&&r)return o;let l={scrollLeft:0,scrollTop:0},d=ge(1);const c=ge(0),h=oe(i);if((h||!h&&!r)&&(("body"!==J(i)||ne(s))&&(l=ce(i)),oe(i))){const e=Ie(i);d=Te(i),c.x=e.x+i.clientLeft,c.y=e.y+i.clientTop}return{width:o.width*d.x,height:o.height*d.y,x:o.x*d.x-l.scrollLeft*d.x+c.x,y:o.y*d.y-l.scrollTop*d.y+c.y}},getDocumentElement:Q,getClippingRect:function(e){let{element:t,boundary:o,rootBoundary:i,strategy:n}=e;const r=[..."clippingAncestors"===o?function(e,t){const o=t.get(e);if(o)return o;let i=ue(e,[],!1).filter((e=>te(e)&&"body"!==J(e))),n=null;const r="fixed"===de(e).position;let s=r?he(e):e;for(;te(s)&&!le(s);){const t=de(s),o=se(s);o||"fixed"!==t.position||(n=null),(r?!o&&!n:!o&&"static"===t.position&&n&&["absolute","fixed"].includes(n.position)||ne(s)&&!o&&Ue(e,s))?i=i.filter((e=>e!==s)):n=t,s=he(s)}return t.set(e,i),i}(t,this._c):[].concat(o),i],s=r[0],a=r.reduce(((e,o)=>{const i=Ze(t,o,n);return e.top=fe(i.top,e.top),e.right=me(i.right,e.right),e.bottom=me(i.bottom,e.bottom),e.left=fe(i.left,e.left),e}),Ze(t,s,n));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Ge,getElementRects:async function(e){const t=this.getOffsetParent||Ge,o=this.getDimensions;return{reference:Xe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await o(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:o}=Be(e);return{width:t,height:o}},getScale:Te,isElement:te,isRTL:function(e){return"rtl"===de(e).direction}},Je=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:i,placement:n}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:o}=e;return{x:t,y:o}}},...l}=ve(e,t),d={x:o,y:i},c=await Le(t,l),h=Se(ze(n)),p=Ce(h);let u=d[p],m=d[h];if(r){const e="y"===p?"bottom":"right";u=xe(u+c["y"===p?"top":"left"],u,u-c[e])}if(s){const e="y"===h?"bottom":"right";m=xe(m+c["y"===h?"top":"left"],m,m-c[e])}const f=a.fn({...t,[p]:u,[h]:m});return{...f,data:{x:f.x-o,y:f.y-i}}}}},Ke=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var o,i;const{placement:n,middlewareData:r,rects:s,initialPlacement:a,platform:l,elements:d}=t,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...b}=ve(e,t);if(null!=(o=r.arrow)&&o.alignmentOffset)return{};const g=ze(n),y=ze(a)===a,w=await(null==l.isRTL?void 0:l.isRTL(d.floating)),x=p||(y||!f?[Ee(a)]:function(e){const t=Ee(e);return[ke(e),t,ke(t)]}(a));p||"none"===m||x.push(...function(e,t,o,i){const n=_e(e);let r=function(e,t,o){const i=["left","right"],n=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return o?t?n:i:t?i:n;case"left":case"right":return t?r:s;default:return[]}}(ze(e),"start"===o,i);return n&&(r=r.map((e=>e+"-"+n)),t&&(r=r.concat(r.map(ke)))),r}(a,f,m,w));const v=[a,...x],z=await Le(t,b),_=[];let C=(null==(i=r.flip)?void 0:i.overflows)||[];if(c&&_.push(z[g]),h){const e=function(e,t,o){void 0===o&&(o=!1);const i=_e(e),n=Oe(e),r=Re(n);let s="x"===n?i===(o?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=Ee(s)),[s,Ee(s)]}(n,s,w);_.push(z[e[0]],z[e[1]])}if(C=[...C,{placement:n,overflows:_}],!_.every((e=>e<=0))){var R,S;const e=((null==(R=r.flip)?void 0:R.index)||0)+1,t=v[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let o=null==(S=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:S.placement;if(!o)switch(u){case"bestFit":{var O;const e=null==(O=C.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:O[0];e&&(o=e);break}case"initialPlacement":o=a}if(n!==o)return{reset:{placement:o}}}return{}}}},Qe=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:o,elements:i,rects:n,platform:r,strategy:s}=t,{padding:a=2,x:l,y:d}=ve(e,t),c=Array.from(await(null==r.getClientRects?void 0:r.getClientRects(i.reference))||[]),h=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),o=[];let i=null;for(let e=0;e<t.length;e++){const n=t[e];!i||n.y-i.y>i.height/2?o.push([n]):o[o.length-1].push(n),i=n}return o.map((e=>Ne(We(e))))}(c),p=Ne(We(c)),u=Me(a);const m=await r.getElementRects({reference:{getBoundingClientRect:function(){if(2===h.length&&h[0].left>h[1].right&&null!=l&&null!=d)return h.find((e=>l>e.left-u.left&&l<e.right+u.right&&d>e.top-u.top&&d<e.bottom+u.bottom))||p;if(h.length>=2){if("y"===Se(o)){const e=h[0],t=h[h.length-1],i="top"===ze(o),n=e.top,r=t.bottom,s=i?e.left:t.left,a=i?e.right:t.right;return{top:n,bottom:r,left:s,right:a,width:a-s,height:r-n,x:s,y:n}}const e="left"===ze(o),t=fe(...h.map((e=>e.right))),i=me(...h.map((e=>e.left))),n=h.filter((o=>e?o.left===i:o.right===t)),r=n[0].top,s=n[n.length-1].bottom;return{top:r,bottom:s,left:i,right:t,width:t-i,height:s-r,x:i,y:r}}return p}},floating:i.floating,strategy:s});return n.reference.x!==m.reference.x||n.reference.y!==m.reference.y||n.reference.width!==m.reference.width||n.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},et=(e,t,o)=>{const i=new Map,n={platform:qe,...o},r={...n.platform,_c:i};return(async(e,t,o)=>{const{placement:i="bottom",strategy:n="absolute",middleware:r=[],platform:s}=o,a=r.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:n}),{x:c,y:h}=je(d,i,l),p=i,u={},m=0;for(let o=0;o<a.length;o++){const{name:r,fn:f}=a[o],{x:b,y:g,data:y,reset:w}=await f({x:c,y:h,initialPlacement:i,placement:p,strategy:n,middlewareData:u,rects:d,platform:s,elements:{reference:e,floating:t}});c=null!=b?b:c,h=null!=g?g:h,u={...u,[r]:{...u[r],...y}},w&&m<=50&&(m++,"object"==typeof w&&(w.placement&&(p=w.placement),w.rects&&(d=!0===w.rects?await s.getElementRects({reference:e,floating:t,strategy:n}):w.rects),({x:c,y:h}=je(d,p,l))),o=-1)}return{x:c,y:h,placement:p,strategy:n,middlewareData:u}})(e,t,{...n,platform:r})};var tt="undefined"!=typeof document?y:b;function ot(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let o,i,n;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(i=o;0!=i--;)if(!ot(e[i],t[i]))return!1;return!0}if(n=Object.keys(e),o=n.length,o!==Object.keys(t).length)return!1;for(i=o;0!=i--;)if(!{}.hasOwnProperty.call(t,n[i]))return!1;for(i=o;0!=i--;){const o=n[i];if(("_owner"!==o||!e.$$typeof)&&!ot(e[o],t[o]))return!1}return!0}return e!=e&&t!=t}function it(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nt(e,t){const o=it(e);return Math.round(t*o)/o}function rt(e){const t=m.useRef(e);return tt((()=>{t.current=e})),t}const st=m["useInsertionEffect".toString()]||(e=>e());var at="undefined"!=typeof document?y:b;let lt=!1,dt=0;const ct=()=>"floating-ui-"+dt++;const ht=m["useId".toString()]||function(){const[e,t]=m.useState((()=>lt?ct():void 0));return at((()=>{null==e&&t(ct())}),[]),m.useEffect((()=>{lt||(lt=!0)}),[]),e};const pt=m.createContext(null),ut=m.createContext(null);function mt(e){var t;void 0===e&&(e={});const{open:o=!1,onOpenChange:i,nodeId:n}=e,[r,s]=m.useState(null),a=(null==(t=e.elements)?void 0:t.reference)||r,l=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:i=[],platform:n,elements:{reference:r,floating:s}={},transform:a=!0,whileElementsMounted:l,open:d}=e,[c,h]=m.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[p,u]=m.useState(i);ot(p,i)||u(i);const[f,b]=m.useState(null),[g,y]=m.useState(null),w=m.useCallback((e=>{e!==C.current&&(C.current=e,b(e))}),[]),x=m.useCallback((e=>{e!==R.current&&(R.current=e,y(e))}),[]),v=r||f,_=s||g,C=m.useRef(null),R=m.useRef(null),S=m.useRef(c),O=null!=l,k=rt(l),E=rt(n),M=m.useCallback((()=>{if(!C.current||!R.current)return;const e={placement:t,strategy:o,middleware:p};E.current&&(e.platform=E.current),et(C.current,R.current,e).then((e=>{const t={...e,isPositioned:!0};N.current&&!ot(S.current,t)&&(S.current=t,z.flushSync((()=>{h(t)})))}))}),[p,t,o,E]);tt((()=>{!1===d&&S.current.isPositioned&&(S.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[d]);const N=m.useRef(!1);tt((()=>(N.current=!0,()=>{N.current=!1})),[]),tt((()=>{if(v&&(C.current=v),_&&(R.current=_),v&&_){if(k.current)return k.current(v,_,M);M()}}),[v,_,M,k,O]);const j=m.useMemo((()=>({reference:C,floating:R,setReference:w,setFloating:x})),[w,x]),L=m.useMemo((()=>({reference:v,floating:_})),[v,_]),W=m.useMemo((()=>{const e={position:o,left:0,top:0};if(!L.floating)return e;const t=nt(L.floating,c.x),i=nt(L.floating,c.y);return a?{...e,transform:"translate("+t+"px, "+i+"px)",...it(L.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:t,top:i}}),[o,a,L.floating,c.x,c.y]);return m.useMemo((()=>({...c,update:M,refs:j,elements:L,floatingStyles:W})),[c,M,j,L,W])}(e),d=m.useContext(ut),c=null!=((null==(h=m.useContext(pt))?void 0:h.id)||null);var h;const p=function(e){const t=m.useRef((()=>{}));return st((()=>{t.current=e})),m.useCallback((function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return null==t.current?void 0:t.current(...o)}),[])}(((e,t,o)=>{e&&(f.current.openEvent=t),b.emit("openchange",{open:e,event:t,reason:o,nested:c}),null==i||i(e,t,o)})),u=m.useRef(null),f=m.useRef({}),b=m.useState((()=>function(){const e=new Map;return{emit(t,o){var i;null==(i=e.get(t))||i.forEach((e=>e(o)))},on(t,o){e.set(t,[...e.get(t)||[],o])},off(t,o){var i;e.set(t,(null==(i=e.get(t))?void 0:i.filter((e=>e!==o)))||[])}}}()))[0],g=ht(),y=m.useCallback((e=>{const t=te(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l.refs.setReference(t)}),[l.refs]),w=m.useCallback((e=>{(te(e)||null===e)&&(u.current=e,s(e)),(te(l.refs.reference.current)||null===l.refs.reference.current||null!==e&&!te(e))&&l.refs.setReference(e)}),[l.refs]),x=m.useMemo((()=>({...l.refs,setReference:w,setPositionReference:y,domReference:u})),[l.refs,w,y]),v=m.useMemo((()=>({...l.elements,domReference:a})),[l.elements,a]),_=m.useMemo((()=>({...l,refs:x,elements:v,dataRef:f,nodeId:n,floatingId:g,events:b,open:o,onOpenChange:p})),[l,n,g,b,o,p,x,v]);return at((()=>{const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===n));e&&(e.context=_)})),m.useMemo((()=>({...l,context:_,refs:x,elements:v})),[l,x,v,_])}function ft(e,t){if(null==e)return{};var o,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var bt=["color"],gt=w((function(e,t){var o=e.color,i=void 0===o?"currentColor":o,n=ft(e,bt);return x("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),x("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),yt=["color"],wt=w((function(e,t){var o=e.color,i=void 0===o?"currentColor":o,n=ft(e,yt);return x("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),x("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),xt=["color"],vt=w((function(e,t){var o=e.color,i=void 0===o?"currentColor":o,n=ft(e,xt);return x("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),x("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),zt=["color"],_t=w((function(e,t){var o=e.color,i=void 0===o?"currentColor":o,n=ft(e,zt);return x("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),x("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Ct=["color"],Rt=w((function(e,t){var o=e.color,i=void 0===o?"currentColor":o,n=ft(e,Ct);return x("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),x("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}));const St=({blockId:e,onClose:t})=>{const o=n(),[r,s]=f(""),a=0===r.length;return h("div",Object.assign({className:"yoo-embed-cursor-pointer yoo-embed-user-select-none yoo-embed-transition-bg yoo-embed-duration-20 yoo-embed-ease-in yoo-embed-white-space-nowrap yoo-embed-w-full"},{children:[p("input",{type:"text",placeholder:"Paste embed link",value:r,className:"yoo-embed-items-center yoo-embed-bg-[hsla(45,13%,94%,.6)] yoo-embed-rounded-[4px] yoo-embed-shadow-[inset_0_0_0_1px_hsla(0,0%,6%,.1)] yoo-embed-cursor-text yoo-embed-flex yoo-embed-text-[14px] yoo-embed-h-[32px] yoo-embed-leading-[20px] yoo-embed-px-[6px] yoo-embed-relative yoo-embed-w-full yoo-embed-border-none",onChange:e=>s(e.target.value)}),p("button",Object.assign({type:"button",className:"yoopta-button yoo-embed-user-select-none yoo-embed-transition-bg yoo-embed-duration-20 yoo-embed-ease-in yoo-embed-cursor-pointer yoo-embed-flex yoo-embed-items-center yoo-embed-justify-center yoo-embed-flex-shrink-0 yoo-embed-white-space-nowrap yoo-embed-h-[28px] yoo-embed-rounded-[4px] yoo-embed-shadow-[rgba(15,15,15,0.1)_0px_0px_0px_1px_inset,_rgba(15,15,15,0.1)_0px_1px_2px] yoo-embed-bg-[#fe4a55] yoo-embed-text-white yoo-embed-fill-white yoo-embed-leading-[1.2] yoo-embed-px-[12px] yoo-embed-text-[14px] yoo-embed-font-medium yoo-embed-w-full yoo-embed-max-w-[300px] yoo-embed-mx-auto yoo-embed-m-[12px_0_6px] disabled:yoo-embed-bg-[rgba(254,74,85,0.5)] disabled:yoo-embed-cursor-not-allowed",disabled:a,onClick:()=>{var n;if(0===r.length)return;const s=C(r),a=s?null===(n=R[s])||void 0===n?void 0:n.call(R,r):null,l={type:s,id:a,url:r};s&&a||(l.id=r),i.updateElement(o,e,{type:"embed",props:{provider:l}}),t()}},{children:"Embed link"}))]}))},{Overlay:Ot,Portal:kt}=r,Et=({floatingStyles:e,refs:t,onClose:o,blockId:i})=>p(kt,Object.assign({id:"yoo-embed-uploader-portal"},{children:p(Ot,Object.assign({lockScroll:!0,className:"yoo-embed-z-[100]",onClick:o},{children:p("div",Object.assign({ref:t.setFloating,style:e,onClick:e=>e.stopPropagation()},{children:h("div",Object.assign({className:"yoo-embed-flex yoo-embed-flex-col yoo-embed-rounded-[6px] yoo-embed-min-w-[540px] yoo-embed-max-w-[calc(100vw-24px)] yoo-embed-h-full yoo-embed-max-h-[420px] yoo-embed-bg-[#FFFFFF] yoo-embed-shadow-[rgb(15_15_15_/5%)_0px_0px_0px_1px,_rgb(15_15_15_/10%)_0px_3px_6px,_rgb(15_15_15_/20%)_0px_9px_24px]"},{children:[p("div",Object.assign({className:"yoo-embed-w-full yoo-embed-flex yoo-embed-text-[14px] yoo-embed-p-[0_8px] yoo-embed-shadow-[rgb(55_53_47_/9%)_0px_-1px_0px_inset] yoo-embed-relative yoo-embed-z-10 yoo-embed-h-[40px]"},{children:p("button",Object.assign({type:"button",style:{borderBottom:"2px solid #fe4a55"},className:"yoopta-button yoo-embed-py-[6px] yoo-embed-whitespace-nowrap yoo-embed-min-w-0 yoo-embed-flex-shrink-0 yoo-embed-text-[rgb(55,53,47)] yoo-embed-relative yoo-embed-cursor-pointer yoo-embed-user-select-none yoo-embed-bg-inherit yoo-embed-transition-[height_20ms_ease-in] yoo-embed-inline-flex yoo-embed-items-center yoo-embed-h-full yoo-embed-text-[14px] yoo-embed-leading-[1.2] yoo-embed-px-[8px]"},{children:"Embed link"}))})),p("div",Object.assign({className:"yoo-embed-pt-[6px] yoo-embed-pb-[6px] yoo-embed-mt-[4px] yoo-embed-flex yoo-embed-justify-center yoo-embed-mr-[12px] yoo-embed-ml-[12px]"},{children:p(St,{onClose:o,blockId:i})}))]}))}))}))})),Mt=({attributes:e,children:t,blockId:o})=>{const[i,n]=f(!1),{refs:r,floatingStyles:s}=mt({placement:"bottom",open:i,onOpenChange:n,middleware:[Qe(),Ke(),Je(),He(10)]});return h("div",Object.assign({className:"yoo-embed-w-full yoo-embed-user-select-none yoo-embed-m-[20px_0_10px] yoo-embed-relative yoo-embed-flex"},e,{contentEditable:!1},{children:[h("button",Object.assign({type:"button",className:"yoopta-button yoo-embed-p-[12px_36px_12px_12px] yoo-embed-flex yoo-embed-items-center yoo-embed-text-left yoo-embed-w-full yoo-embed-overflow-hidden yoo-embed-rounded-[3px] yoo-embed-text-[14px] yoo-embed-text-[rgba(55,53,47,0.65)] yoo-embed-relative yoo-embed-cursor-pointer yoo-embed-border-none yoo-embed-bg-[#efefef] yoo-embed-transition-[background-color_100ms_ease-in] hover:yoo-embed-bg-[#e3e3e3]",onClick:()=>n(!0),ref:r.setReference},{children:[p(gt,{className:"yoo-embed-mr-2 yoo-embed-user-select-none",width:24,height:24}),p("span",Object.assign({className:"yoo-embed-font-medium"},{children:"Click to add embed"}))]})),i&&p(Et,{blockId:o,floatingStyles:s,refs:r,onClose:()=>n(!1)}),t]}))},Nt={left:_t,center:vt,right:Rt},{ExtendedBlockActions:jt,BlockOptionsMenuGroup:Lt,BlockOptionsMenuItem:Wt,BlockOptionsSeparator:Ht}=r,Bt=({editor:e,block:t,props:i})=>{var n;const r=(null===(n=null==t?void 0:t.meta)||void 0===n?void 0:n.align)||"center",s=Nt[r];return h(jt,Object.assign({onClick:()=>e.setPath({current:t.meta.order})},{children:[p(Ht,{}),h(Lt,{children:[p(Wt,{children:h("button",Object.assign({type:"button",className:"yoopta-block-options-button",onClick:()=>{const i=["left","center","right"];if(!t)return;const n=i[(i.indexOf(r)+1)%i.length];o.updateBlock(e,t.id,{meta:Object.assign(Object.assign({},t.meta),{align:n})})}},{children:[p(s,{width:16,height:16,className:"yoo-embed-w-4 yoo-embed-h-4 yoo-embed-mr-2"}),"Alignment"]}))}),p(Wt,{children:h("button",Object.assign({type:"button",className:"yoopta-block-options-button",onClick:()=>{var e;window.open(null===(e=null==i?void 0:i.provider)||void 0===e?void 0:e.url,"_blank")}},{children:[p(wt,{width:16,height:16,className:"yoo-embed-w-4 yoo-embed-h-4 yoo-embed-mr-2"}),"Open"]}))})]})]}))},Pt=({position:e})=>p("div",Object.assign({contentEditable:!1,className:"yoo-embed-absolute yoo-embed-flex yoo-embed-items-center yoo-embed-justify-center yoo-embed-z-10 yoo-embed-opacity-1 yoo-embed-h-full yoo-embed-w-[15px] yoo-embed-cursor-col-resize yoo-embed-transition-opacity yoo-embed-duration-150 yoo-embed-ease-in "+("left"===e?"yoo-embed-left-0 yoo-embed-top-0":"yoo-embed-right-0 yoo-embed-top-0")},{children:p("div",{className:"yoo-embed-opacity-100 yoo-embed-transition-opacity yoo-embed-duration-300 yoo-embed-ease-in yoo-embed-rounded-[20px] yoo-embed-bg-[rgba(15,15,15,0.6)] yoo-embed-border yoo-embed-border-[rgba(255,255,255,0.9)] yoo-embed-w-[6px] yoo-embed-h-[48px] yoo-embed-max-h-[50%] yoo-embed-shadow-[0_0_0_.5px_#FFF]"})})),Tt={left:"flex-start",center:"center",right:"flex-end"},At=new c({type:"Embed",elements:{embed:{render:e=>{var t,{extendRender:o}=e,r=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]])}return o}(e,["extendRender"]);const{element:c,children:m,attributes:g,blockId:y}=r,{sizes:w,provider:x}=c.props||{},z=s(y),_=n(),C=a("Embed"),R=l(),[S,O]=f({width:(null==w?void 0:w.width)||762,height:(null==w?void 0:w.height)||428});b((()=>O({width:(null==w?void 0:w.width)||762,height:(null==w?void 0:w.height)||428})),[c.props]);const k=d({blockId:y}),M=v((()=>{var e,t;return{minWidth:300,size:{width:S.width,height:S.height},maxWidth:(null===(e=null==C?void 0:C.maxSizes)||void 0===e?void 0:e.maxWidth)||800,maxHeight:(null===(t=null==C?void 0:C.maxSizes)||void 0===t?void 0:t.maxHeight)||900,lockAspectRatio:!0,resizeRatio:2,enable:{left:!R,right:!R},handleStyles:{left:{left:0},right:{right:0}},onResize:(e,t,o)=>{R||O({width:o.offsetWidth,height:o.offsetHeight})},onResizeStop:(e,t,o)=>{R||i.updateElement(_,y,{type:"embed",props:{sizes:{width:o.offsetWidth,height:o.offsetHeight}}})},handleComponent:{left:R?p(u,{}):p(Pt,{position:"left"}),right:R?p(u,{}):p(Pt,{position:"right"})}}}),[S.width,S.height]);if(!x||!(null==x?void 0:x.id))return p(Mt,Object.assign({attributes:g,blockId:y},{children:m}));const N=`yoopta-align-${(null===(t=null==z?void 0:z.meta)||void 0===t?void 0:t.align)||"center"}`;return p("div",Object.assign({contentEditable:!1,draggable:!1,className:`yoo-embed-mt-4 yoo-embed-relative yoo-embed-flex ${N} yoopta-embed`},{children:h(q,Object.assign({},M,{className:"yoo-embed-my-0 yoo-embed-flex"},{children:[k&&p("div",{className:"yoo-embed-absolute yoo-embed-pointer-events-none yoo-embed-inset-0 yoo-embed-bg-[rgba(35,131,226,0.14)] yoo-embed-z-[81] yoo-embed-rounded-[3px] yoo-embed-opacity-100 yoo-embed-transition-opacity yoo-embed-duration-150 yoo-embed-ease-in"}),o?o(r):p(E,Object.assign({width:(null==S?void 0:S.width)||762,height:(null==S?void 0:S.height)||428,provider:x,blockId:y,attributes:g},{children:m})),!R&&p(Bt,{block:z,editor:_,props:c.props})]}))}))},props:{sizes:{width:762,height:428},nodeType:"void"}}},options:{display:{title:"Embed",description:"For embed videos, google maps and more"},shortcuts:["instagram","twitter","youtube","vimeo","dailymotion","figma"]},commands:S,parsers:{html:{deserialize:{nodeNames:["IFRAME"],parse:t=>{if("IFRAME"===t.nodeName){const o=new URL(t.getAttribute("src")||"");return{id:e(),type:"embed",children:[{text:""}],props:{provider:{id:o.href,type:o.hostname,url:o.href},sizes:{width:t.getAttribute("width")?parseInt(t.getAttribute("width")||"762",10):762,height:t.getAttribute("height")?parseInt(t.getAttribute("height")||"428",10):428}}}}}},serialize:(e,t,o)=>{const{align:i="center",depth:n=0}=o||{},r=Tt[i]||"center",s={youtube:e=>`https://www.youtube.com/embed/${e}`,vimeo:e=>`https://player.vimeo.com/embed/${e}`,dailymotion:e=>`https://www.dailymotion.com/embed/embed/${e}`,figma:e=>`https://www.figma.com/embed?embed_host=share&url=${e}`,loom:e=>`https://www.loom.com/embed/${e}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,instagram:e=>`https://www.instagram.com/p/${e}/embed`,wistia:e=>`https://fast.wistia.net/embed/iframe/${e}?videoFoam=false`,twitter:e=>`https://platform.twitter.com/widgets/tweet.html?id=${e}`};let a=e.props.provider.url;return s[e.props.provider.type]&&(a=s[e.props.provider.type](e.props.provider.id)),`<div style="margin-left: ${20*n}px; display: flex; width: 100%; justify-content: ${r}">\n        <iframe data-meta-align="${i}" data-meta-depth="${n}" src="${a}" width="${e.props.sizes.width}" height="${e.props.sizes.height}"></iframe> </div>`}},markdown:{serialize:(e,t)=>`![${e.props.provider.type}](${e.props.provider.url})\n`}}});!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}(".yoo-embed-pointer-events-none{pointer-events:none}.yoo-embed-absolute{position:absolute}.yoo-embed-relative{position:relative}.yoo-embed-inset-0{inset:0}.yoo-embed-left-0{left:0}.yoo-embed-right-0{right:0}.yoo-embed-top-0{top:0}.yoo-embed-z-10{z-index:10}.yoo-embed-z-\\[100\\]{z-index:100}.yoo-embed-z-\\[81\\]{z-index:81}.yoo-embed-m-\\[12px_0_6px\\]{margin:12px 0 6px}.yoo-embed-m-\\[20px_0_10px\\]{margin:20px 0 10px}.yoo-embed-mx-auto{margin-left:auto;margin-right:auto}.yoo-embed-my-0{margin-bottom:0;margin-top:0}.yoo-embed-ml-\\[12px\\]{margin-left:12px}.yoo-embed-mr-2{margin-right:.5rem}.yoo-embed-mr-\\[12px\\]{margin-right:12px}.yoo-embed-mt-4{margin-top:1rem}.yoo-embed-mt-\\[4px\\]{margin-top:4px}.yoo-embed-flex{display:flex}.yoo-embed-inline-flex{display:inline-flex}.yoo-embed-h-4{height:1rem}.yoo-embed-h-\\[28px\\]{height:28px}.yoo-embed-h-\\[32px\\]{height:32px}.yoo-embed-h-\\[40px\\]{height:40px}.yoo-embed-h-\\[48px\\]{height:48px}.yoo-embed-h-full{height:100%}.yoo-embed-max-h-\\[420px\\]{max-height:420px}.yoo-embed-max-h-\\[50\\%\\]{max-height:50%}.yoo-embed-w-4{width:1rem}.yoo-embed-w-\\[15px\\]{width:15px}.yoo-embed-w-\\[6px\\]{width:6px}.yoo-embed-w-full{width:100%}.yoo-embed-min-w-0{min-width:0}.yoo-embed-min-w-\\[540px\\]{min-width:540px}.yoo-embed-max-w-\\[300px\\]{max-width:300px}.yoo-embed-max-w-\\[calc\\(100vw-24px\\)\\]{max-width:calc(100vw - 24px)}.yoo-embed-flex-shrink-0{flex-shrink:0}.yoo-embed-cursor-col-resize{cursor:col-resize}.yoo-embed-cursor-pointer{cursor:pointer}.yoo-embed-cursor-text{cursor:text}.yoo-embed-flex-col{flex-direction:column}.yoo-embed-items-center{align-items:center}.yoo-embed-justify-center{justify-content:center}.yoo-embed-overflow-hidden{overflow:hidden}.yoo-embed-whitespace-nowrap{white-space:nowrap}.yoo-embed-rounded-\\[20px\\]{border-radius:20px}.yoo-embed-rounded-\\[3px\\]{border-radius:3px}.yoo-embed-rounded-\\[4px\\]{border-radius:4px}.yoo-embed-rounded-\\[6px\\]{border-radius:6px}.yoo-embed-border{border-width:1px}.yoo-embed-border-none{border-style:none}.yoo-embed-border-\\[rgba\\(255\\,255\\,255\\,0\\.9\\)\\]{border-color:hsla(0,0%,100%,.9)}.yoo-embed-bg-\\[\\#FFFFFF\\]{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.yoo-embed-bg-\\[\\#efefef\\]{--tw-bg-opacity:1;background-color:rgb(239 239 239/var(--tw-bg-opacity))}.yoo-embed-bg-\\[\\#fe4a55\\]{--tw-bg-opacity:1;background-color:rgb(254 74 85/var(--tw-bg-opacity))}.yoo-embed-bg-\\[hsla\\(45\\,13\\%\\,94\\%\\,\\.6\\)\\]{background-color:hsla(45,13%,94%,.6)}.yoo-embed-bg-\\[rgba\\(15\\,15\\,15\\,0\\.6\\)\\]{background-color:hsla(0,0%,6%,.6)}.yoo-embed-bg-\\[rgba\\(35\\,131\\,226\\,0\\.14\\)\\]{background-color:rgba(35,131,226,.14)}.yoo-embed-bg-inherit{background-color:inherit}.yoo-embed-fill-white{fill:#fff}.yoo-embed-p-\\[0_8px\\]{padding:0 8px}.yoo-embed-p-\\[12px_36px_12px_12px\\]{padding:12px 36px 12px 12px}.yoo-embed-px-\\[12px\\]{padding-left:12px;padding-right:12px}.yoo-embed-px-\\[6px\\]{padding-left:6px;padding-right:6px}.yoo-embed-px-\\[8px\\]{padding-left:8px;padding-right:8px}.yoo-embed-py-\\[6px\\]{padding-bottom:6px;padding-top:6px}.yoo-embed-pb-\\[6px\\]{padding-bottom:6px}.yoo-embed-pt-\\[6px\\]{padding-top:6px}.yoo-embed-text-left{text-align:left}.yoo-embed-text-\\[14px\\]{font-size:14px}.yoo-embed-font-medium{font-weight:500}.yoo-embed-leading-\\[1\\.2\\]{line-height:1.2}.yoo-embed-leading-\\[20px\\]{line-height:20px}.yoo-embed-text-\\[rgb\\(55\\,53\\,47\\)\\]{--tw-text-opacity:1;color:rgb(55 53 47/var(--tw-text-opacity))}.yoo-embed-text-\\[rgba\\(55\\,53\\,47\\,0\\.65\\)\\]{color:rgba(55,53,47,.65)}.yoo-embed-text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.yoo-embed-opacity-100{opacity:1}.yoo-embed-shadow-\\[0_0_0_\\.5px_\\#FFF\\]{--tw-shadow:0 0 0 .5px #fff;--tw-shadow-colored:0 0 0 .5px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.yoo-embed-shadow-\\[inset_0_0_0_1px_hsla\\(0\\,0\\%\\,6\\%\\,\\.1\\)\\]{--tw-shadow:inset 0 0 0 1px hsla(0,0%,6%,.1);--tw-shadow-colored:inset 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.yoo-embed-shadow-\\[rgb\\(15_15_15_\\/5\\%\\)_0px_0px_0px_1px\\,_rgb\\(15_15_15_\\/10\\%\\)_0px_3px_6px\\,_rgb\\(15_15_15_\\/20\\%\\)_0px_9px_24px\\]{--tw-shadow:rgb(15 15 15/5%) 0px 0px 0px 1px,hsla(0,0%,6%,.1) 0px 3px 6px,hsla(0,0%,6%,.2) 0px 9px 24px;--tw-shadow-colored:0px 0px 0px 1px var(--tw-shadow-color),0px 3px 6px var(--tw-shadow-color),0px 9px 24px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.yoo-embed-shadow-\\[rgb\\(55_53_47_\\/9\\%\\)_0px_-1px_0px_inset\\]{--tw-shadow:rgb(55 53 47/9%) 0px -1px 0px inset;--tw-shadow-colored:inset 0px -1px 0px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.yoo-embed-shadow-\\[rgba\\(15\\,15\\,15\\,0\\.1\\)_0px_0px_0px_1px_inset\\,_rgba\\(15\\,15\\,15\\,0\\.1\\)_0px_1px_2px\\]{--tw-shadow:hsla(0,0%,6%,.1) 0px 0px 0px 1px inset,hsla(0,0%,6%,.1) 0px 1px 2px;--tw-shadow-colored:inset 0px 0px 0px 1px var(--tw-shadow-color),0px 1px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.yoo-embed-transition-\\[background-color_100ms_ease-in\\]{transition-duration:.15s;transition-property:background-color .1s ease-in;transition-timing-function:cubic-bezier(.4,0,.2,1)}.yoo-embed-transition-\\[height_20ms_ease-in\\]{transition-duration:.15s;transition-property:height 20ms ease-in;transition-timing-function:cubic-bezier(.4,0,.2,1)}.yoo-embed-transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.yoo-embed-duration-150{transition-duration:.15s}.yoo-embed-duration-300{transition-duration:.3s}.yoo-embed-ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.yoopta-embed .yoopta-extended-block-actions{opacity:0;transition:opacity .15s ease-in-out}.yoopta-embed:hover .yoopta-extended-block-actions{opacity:1}.hover\\:yoo-embed-bg-\\[\\#e3e3e3\\]:hover{--tw-bg-opacity:1;background-color:rgb(227 227 227/var(--tw-bg-opacity))}.disabled\\:yoo-embed-cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:yoo-embed-bg-\\[rgba\\(254\\2c 74\\2c 85\\2c 0\\.5\\)\\]:disabled{background-color:rgba(254,74,85,.5)}");export{S as EmbedCommands,At as default};
